# Django Configuration
# ===================

# SECURITY WARNING: keep the secret key used in production secret!
# Generate a new key with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=your-secret-key-here-change-in-production

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG=True

# Comma-separated list of allowed hosts (use * for development only)
ALLOWED_HOSTS=localhost,127.0.0.1

# CORS settings (for development)
CORS_ALLOW_ALL_ORIGINS=True


# Database Configuration
# ======================

# PostgreSQL connection details
POSTGRES_DB=smart_home_energy
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Alternative: Use DATABASE_URL for single connection string
# DATABASE_URL=postgresql://postgres:postgres@db:5432/smart_home_energy


# Redis Configuration
# ===================

# Redis connection URL
REDIS_URL=redis://redis:6379/0

# Alternative: Separate Redis settings
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_DB=0


# Celery Configuration
# ====================

# Celery broker URL (typically same as REDIS_URL)
CELERY_BROKER_URL=redis://redis:6379/0

# Celery result backend
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Celery task settings
CELERY_TASK_TRACK_STARTED=True
CELERY_TASK_TIME_LIMIT=30000


# JWT Authentication
# ==================

# Secret key for signing JWT tokens (should be different from SECRET_KEY)
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(64))'
JWT_SECRET_KEY=your-jwt-secret-key-here-change-in-production

# JWT algorithm
JWT_ALGORITHM=HS256

# Token expiry time in hours
JWT_EXPIRY_HOURS=24


# Email Configuration (Optional)
# ===============================

# Email backend (use console for development, SMTP for production)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# SMTP settings (uncomment and configure for production)
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-email@example.com
# EMAIL_HOST_PASSWORD=your-email-password
# DEFAULT_FROM_EMAIL=noreply@example.com


# Static and Media Files
# =======================

# Static files (CSS, JavaScript, images)
STATIC_URL=/static/
STATIC_ROOT=/app/staticfiles

# Media files (user uploads)
MEDIA_URL=/media/
MEDIA_ROOT=/app/media


# Logging Configuration
# =====================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log to file (optional)
# LOG_FILE=/app/logs/django.log


# Application Settings
# ====================

# Timezone (https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)
TIME_ZONE=UTC

# Language code
LANGUAGE_CODE=en-us

# Enable/disable Django admin
ADMIN_ENABLED=True


# Frontend Configuration
# ======================

# API base URL for frontend (update for production)
VITE_API_BASE_URL=http://localhost:8000/api

# GraphQL endpoint
VITE_GRAPHQL_URL=http://localhost:8000/graphql


# Simulation Settings (Optional)
# ===============================

# Simulation interval in seconds
SIMULATION_INTERVAL=60

# Default location for solar calculations (San Francisco)
DEFAULT_LATITUDE=37.77
DEFAULT_LONGITUDE=-122.42


# Third-Party Services (Optional)
# ================================

# Weather API key (for future weather integration)
# WEATHER_API_KEY=your-weather-api-key

# Sentry DSN (for error tracking)
# SENTRY_DSN=https://your-sentry-dsn


# Development/Testing Settings
# =============================

# Enable Django debug toolbar (development only)
DEBUG_TOOLBAR=False

# Enable SQL query logging (development only)
SQL_DEBUG=False

# Test database name (used during pytest)
TEST_DATABASE_NAME=test_smart_home_energy


# Production-Specific Settings
# =============================

# Use these settings only in production:

# Set DEBUG=False
# DEBUG=False

# Update ALLOWED_HOSTS with your domain
# ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com

# Use strong secret keys
# SECRET_KEY=<generate-new-secret-key>
# JWT_SECRET_KEY=<generate-new-jwt-secret-key>

# Configure proper database connection
# DATABASE_URL=postgresql://user:password@your-db-host:5432/dbname

# Configure Redis (use managed service)
# REDIS_URL=redis://your-redis-host:6379/0

# Configure email backend
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=your-smtp-host
# EMAIL_PORT=587
# EMAIL_USE_TLS=True

# Configure static file serving (use CDN)
# STATIC_URL=https://cdn.yourdomain.com/static/

# Enable HTTPS
# SECURE_SSL_REDIRECT=True
# SESSION_COOKIE_SECURE=True
# CSRF_COOKIE_SECURE=True

# Configure Sentry for error tracking
# SENTRY_DSN=your-sentry-dsn
# SENTRY_ENVIRONMENT=production


# Notes
# =====
#
# 1. Never commit this file with real secrets to version control
# 2. Use different values for development, staging, and production
# 3. Generate strong random keys for SECRET_KEY and JWT_SECRET_KEY
# 4. In production, use environment variables or secret management services
# 5. Update ALLOWED_HOSTS with your actual domain names
# 6. Configure proper database and Redis connections for production
# 7. Enable HTTPS and security headers in production
#
# For more information, see:
# - Django settings: https://docs.djangoproject.com/en/5.1/ref/settings/
# - Django security: https://docs.djangoproject.com/en/5.1/topics/security/
# - Celery configuration: https://docs.celeryproject.org/en/stable/userguide/configuration.html
